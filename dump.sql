CREATE TABLE products (id INT NOT NULL, Name VARCHAR(255) NOT NULL, Price INT NOT NULL, PRIMARY KEY(id));
CREATE TABLE fos_user (id INT NOT NULL, username VARCHAR(255) NOT NULL, username_canonical VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, email_canonical VARCHAR(255) NOT NULL, enabled BOOLEAN NOT NULL, salt VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, last_login TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, locked BOOLEAN NOT NULL, expired BOOLEAN NOT NULL, expires_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, confirmation_token VARCHAR(255) DEFAULT NULL, password_requested_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, roles TEXT NOT NULL, credentials_expired BOOLEAN NOT NULL, credentials_expire_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UNIQ_957A647992FC23A8 ON fos_user (username_canonical);
CREATE UNIQUE INDEX UNIQ_957A6479A0D96FBF ON fos_user (email_canonical);
COMMENT ON COLUMN fos_user.roles IS '(DC2Type:array)';
CREATE TABLE order_product (id INT NOT NULL, OrderId INT DEFAULT NULL, ProductId INT DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_2530ADE6359E4DAB ON order_product (OrderId);
CREATE INDEX IDX_2530ADE6B48814A6 ON order_product (ProductId);
CREATE TABLE orders (id INT NOT NULL, Sum INT NOT NULL, userId INT DEFAULT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_E52FFDEE64B64DCC ON orders (userId);
CREATE SEQUENCE products_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE fos_user_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE order_product_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE orders_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
ALTER TABLE order_product ADD CONSTRAINT FK_2530ADE6359E4DAB FOREIGN KEY (OrderId) REFERENCES orders (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE order_product ADD CONSTRAINT FK_2530ADE6B48814A6 FOREIGN KEY (ProductId) REFERENCES products (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE orders ADD CONSTRAINT FK_E52FFDEE64B64DCC FOREIGN KEY (userId) REFERENCES fos_user (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
